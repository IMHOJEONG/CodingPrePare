- Progressive Web App

  - 네이티브 앱의 장점과 웹의 낮은 진입 장벽이라는 두 가지 장점을 모두 지는 새로운 종류의 앱
  - 새로운 프로그레시브 모델은 설치됨(installed) 또는 설치되지 않음(not installed)으로 구분할 수 있는 이분법적인 앱의 성질을 대체할 수 있음
  - 프로그레시브 웹 앱은 사용자와 신뢰를 쌓고 필요에 따라 권한을 얻을 수 있음
  - 네이티브 앱의 문제
    - 사용자가 앱을 설치할 가능성은 해마다 점점 줄어들지만, 새로운 사용자를 확보하는 데 드는 비용은 늘고 있음
    - 사용자의 참여를 유지하는 것이 점점 더 어려워지고 있음
    - 퍼널 : 사용자가 서비스에 접속하여 상품을 구매하기까지의 경로를 말함
  - 전체 페이지 삽입 광고, 도어 슬램(The Door slam)이 튀어 나와 화면을 가리는 것

- 장점
  1. 연결 상태와는 무관한 가용성(오프라인 지원)
     - 전통적인 웹사이트와는 달리 사용자의 인터넷 연결 여부가 중요하지 않음
     - 사용자가 프로그레시브 웹 앱 홈페이지를 방문하면 서비스 워커가 등록되고 사용자의 인터넷 연결 상태 변화를 감지해 적절히 대응
       - 불안정한 인터넷 상태와 관계없이 기능이 작동할 수 있음
  2. 빠른 로딩 시간
     - 서비스 워커를 사용하면 초고속 인터넷, 2G, 없든 바로 시작되는 웹 사이트를 만들 수 있음
  3. 푸시(Push) 알림
     - 사용자가 웹 사이트를 떠난 며칠 뒤에도 사용자에게 알림을 보낼 수 있음
     - 알림 : 사용자의 재참여를 유도하고 다시 방문하게 만들 수 있음
  4. 홈 화면 바로 가기
     - 홈 화면에 아이콘을 추가하면 네이티브 앱과 구분하기 어려움
  5. 네이티브 앱과 같은 디자인
     - 홈 화면에서 프로그레시브 웹 앱을 시작하면 네이티브 앱과 구별하기 어려움
     - 로딩 중 스플래스 화면을 표시 & 브라우저나 휴대폰 UI를 제외한 전체 화면으로 실행됨
     - 또한 가로/세로 중 특정 화면 모드만 지원하도록 강제할 수도 있음

## 탭, 웹 그리고 서비스 워커

모든 프로그레시브 웹 앱의 핵심은 서비스 워커

- 서비스 워커가 나오기 이전 코드

  - 서버 혹은 브라우저 창에서 실행되었음
  - 서비스 워커는 여기에 새로운 계층을 도입
  - 서비스 워커 : 특정 사이트의 하나 혹은 그 이상의 페이지를 제어하는 스크립트

    - 일단 설치되면 단일 브라우저 창이나 탭의 외부에 위치함
      - 그곳에서, 서비스 워커는 자신이 제어하는 페이지에서 발생하는 이벤트를 수신
        - 웹에서 파일을 요청하는 것과 같은 이벤트를 가로채거나 수정하고 다시 페이지로 돌려보낼 수 있음

  - 페이지와 웹 사이에 네트워크 연결 상태와는 독립적으로 페이지 요청에 응답할 수 있는 계층(서비스 워커)이 추가됨.

    - 이 계층은 사용자가 오프라인인 경우에도 작동됨
    - 오프라인 상태나 서버의 느린 응답을 감지하면 캐시된 콘텐츠를 대신 브라우저에 보냄

  - 사용자가 브라우저에서 사용 중인 모든 탭을 닫아도, 서버와 통신하는 계층이 여전히 남아 있는 것

    - 이를 통해 푸시 알림을 수신하면 브라우저에 전달하고 사용자가 수행한 모든 작업이 정말로 서버에 전달될 수 있음

  - 서비스 워커의 영속성을 바탕으로 프로그레시브 웹 앱은 사람들이 앱에서 기대하는 수준을 웹에서 만족시킬 수 있음
    - 서비스 워커가 단순한 JS 파일이라는 점이 가장 중요한 장점
    - 지난 수년 간 사용된 다른 JS와 동일한 방법으로 구현됨
  - 서비스 워커와 이 책에서 다루는 관련 기술을 이해하여 얻을 수 있는 이점은 엄청남
    - 이미 친숙한 JS, HTML, CSS와 같은 기존 지식을 활용해서 모바일 앱을 능가할 수 있는 웹 앱을 작성할 수 있기 때문
    -
